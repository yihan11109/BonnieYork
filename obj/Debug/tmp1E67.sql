IF object_id(N'[dbo].[FK_dbo.CustomerReserves_dbo.StaffBusinessItems_StaffBusinessItemsId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[CustomerReserves] DROP CONSTRAINT [FK_dbo.CustomerReserves_dbo.StaffBusinessItems_StaffBusinessItemsId]
IF object_id(N'[dbo].[FK_dbo.StaffBusinessItems_dbo.StoreDetails_StoreId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.StoreDetails_StoreId]
IF object_id(N'[dbo].[FK_dbo.StaffBusinessItems_dbo.BusinessItems_BusinessItemsId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.BusinessItems_BusinessItemsId]
IF object_id(N'[dbo].[FK_dbo.StaffBusinessItems_dbo.StaffDetails_StaffId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.StaffDetails_StaffId]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_BusinessItemsId' AND object_id = object_id(N'[dbo].[StaffBusinessItems]', N'U'))
    DROP INDEX [IX_BusinessItemsId] ON [dbo].[StaffBusinessItems]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_StoreId' AND object_id = object_id(N'[dbo].[StaffBusinessItems]', N'U'))
    DROP INDEX [IX_StoreId] ON [dbo].[StaffBusinessItems]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_StaffId' AND object_id = object_id(N'[dbo].[StaffBusinessItems]', N'U'))
    DROP INDEX [IX_StaffId] ON [dbo].[StaffBusinessItems]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_StaffBusinessItemsId' AND object_id = object_id(N'[dbo].[CustomerReserves]', N'U'))
    DROP INDEX [IX_StaffBusinessItemsId] ON [dbo].[CustomerReserves]
ALTER TABLE [dbo].[CustomerReserves] ADD [BusinessItemsId] [int]
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.StaffBusinessItems')
AND col_name(parent_object_id, parent_column_id) = 'BusinessItemsId';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[StaffBusinessItems] ALTER COLUMN [BusinessItemsId] [int] NOT NULL
DECLARE @var1 nvarchar(128)
SELECT @var1 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.StaffBusinessItems')
AND col_name(parent_object_id, parent_column_id) = 'StoreId';
IF @var1 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [' + @var1 + ']')
ALTER TABLE [dbo].[StaffBusinessItems] ALTER COLUMN [StoreId] [int] NOT NULL
DECLARE @var2 nvarchar(128)
SELECT @var2 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.StaffBusinessItems')
AND col_name(parent_object_id, parent_column_id) = 'StaffId';
IF @var2 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [' + @var2 + ']')
ALTER TABLE [dbo].[StaffBusinessItems] ALTER COLUMN [StaffId] [int] NOT NULL
CREATE INDEX [IX_BusinessItemsId] ON [dbo].[CustomerReserves]([BusinessItemsId])
CREATE INDEX [IX_BusinessItemsId] ON [dbo].[StaffBusinessItems]([BusinessItemsId])
CREATE INDEX [IX_StoreId] ON [dbo].[StaffBusinessItems]([StoreId])
CREATE INDEX [IX_StaffId] ON [dbo].[StaffBusinessItems]([StaffId])
ALTER TABLE [dbo].[CustomerReserves] ADD CONSTRAINT [FK_dbo.CustomerReserves_dbo.BusinessItems_BusinessItemsId] FOREIGN KEY ([BusinessItemsId]) REFERENCES [dbo].[BusinessItems] ([Id])
ALTER TABLE [dbo].[StaffBusinessItems] ADD CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.StoreDetails_StoreId] FOREIGN KEY ([StoreId]) REFERENCES [dbo].[StoreDetails] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[StaffBusinessItems] ADD CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.BusinessItems_BusinessItemsId] FOREIGN KEY ([BusinessItemsId]) REFERENCES [dbo].[BusinessItems] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[StaffBusinessItems] ADD CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.StaffDetails_StaffId] FOREIGN KEY ([StaffId]) REFERENCES [dbo].[StaffDetails] ([Id]) ON DELETE CASCADE
DECLARE @var3 nvarchar(128)
SELECT @var3 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.CustomerReserves')
AND col_name(parent_object_id, parent_column_id) = 'StaffBusinessItemsId';
IF @var3 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[CustomerReserves] DROP CONSTRAINT [' + @var3 + ']')
ALTER TABLE [dbo].[CustomerReserves] DROP COLUMN [StaffBusinessItemsId]
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'202211281700298_updateCustomerReserve', N'BonnieYork.Migrations.Configuration',  0x1F8B0800000000000400ED5DDD6EDCBA11BE2FD07758EC555BE4786D07015A637D0E1C3B69D32671E04D4EDBAB40BBA26D21FAD94ADAD446D127EB451FA9AF50EA9FFF1C529456EB63E4C6599233E4F0E370384371FEF79FFF2E7F7A88C2D977946641129FCF4F8E8EE733146F123F88EFCEE7BBFCF687DFCF7FFAF1D7BF5ABEF1A387D9CF4DBD97453DDC32CECEE7F779BE3D5B2CB2CD3D8ABCEC280A36699225B7F9D12689169E9F2C4E8F8FFFB0383959204C628E69CD66CB9B5D9C07112AFF83FF7B99C41BB4CD775EF821F15198D5BFE392554975F6D18B50B6F536E87CFE3A89E300FD3D49BF1D5595E7B38B30F070475628BC9DCFBC384E722FC7DD3CFB92A1559E26F1DD6A8B7FF0C2CF8F5B84EBDD7A6186EAEE9F75D5A123393E2D46B2E81A36A436BB2C4F224382272F6BD12CD8E656029EB7A2C3C27B83859C3F16A32E058865B7CB821865D9BBF83649A39A0BCBF7EC324C8B3602511F0908BC9875D55EB408C1402AFEBD985DEEC27C97A2F318EDF2D40B5FCC3EEDD661B0F90B7AFC9C7C43F179BC0B43B2D3B8DBB88CFA01FFF4294DB628CD1F6FD06D3D9477FE7CB6A0DB2DD8866D33A24D35B27771FEF2743EFB88997BEB10B59820A4B0CA9314FD11C528F572E47FF2F21CA57141039552E5B833BCCAE61C43759BCF7849E08A28FDEE854D430C60BC14E7B30FDEC37B14DFE5F7E7F35778EDBD0D1E90DFFC5077FE4B1CE0858BDBE4E90EE978FD15A16FBEF7B8CABD342FF88EC4EF4DEC8FC8ED758ABC6F63F0FB531206634AB3E63792346B6EA349B35211355705B3532B661FBDEFC15DB9C6454BF60AE55E8057DF0D0ACB3AD97DB0ADB69623A2FCAB5093BE4D93E826096952A2AA5F3F7BE91DCAF1D01258FD55B24B37CC50968B4EBF2BB53E352E136D4F347CD6F2625EB18FE5993E1A2AFA8BCD26C1169002DA27C7306C7363D3AC2C2FCBFE99A4FEF89C4B41177FF6571E869C2FCB791C99E9558061116C54533C0CE30BDF4FB1F2185FCA280CB7F7498C3EEEA2354A55007B3508B25DF2D641D9BBBDFD1CE4A10ACB767B138B22946DD2605BED2E5256F84F07BC5E63AD8852AC01EF0767F5161FE4D649F2ED7D107F1B9CD9BB38CBBDBBD48B46E18699A0611849CD16A12932ACF9D2982350F3A531778C8794A328130E86AAF195B270BA61482B71F697BCA6C8F25275FDB2B4AF507A83327C8E43C2CE337564DD5754E306A0AA6B378452CB5172510F8AAF2F1B97BAA6C0365656371D5D63B20907D114CABA2E2AE73A2CAC64DACD72D4CAC3485BAE94335F452C6041BD5E870E66095B39998AA6CF070F212FB17BC9D426DF22AD03E1C4C9811E9BC28333A98CA5B58A8F9B3DFE06455E3ABC29F1091F1F30B487B1C89CEE5FCC5A97EF60B416D7ED618CCEB751A07A4342B0BB4887A3AB0BD9BAFA0E4AEDA2EA6916B1769D7E93B6DA1B388C99EC0E4CE3E7FDC1607F009C6B0DDB34B361D88C029661DB7AE2AFB05C4650F5252FCD1E39ED6DA5C729CB91A267D50A6C5B30DDB1146A91AEF295D33FFC40C435A55B96A4FA9046BF62108A6A4AE3BF7FF7D5BB938373AF0E4ACEF7289BB809DDF6798712F2FA05C6401A5CEC270C0276D043F719C30EBC0ED2FCFE4A19D0B58B1E3B39CBF4DE1A649A49A3872D23BAC43E6116D16D1B3EAB25212F278E955FA06E2B91A5516CC0989821E73F27EB51827183FA63AC95B593A16194A789BFDB8C12687C8EFE8DBDC7393836F0113FFD11630FF126625BD4C49BBAEE83E24D4484C4E64CD7DE65930DA4AEA01C82A08EB8F3A28AAECF723DE24F2A2C393BBF89DCBFC696D273244A6F30A95D7936B7C4FA1311F93175447AB8C99CC61084AB03127470EA6472A158012311A932A71ACAC58504D0385CAAAD76B730565875CB675565A018006DAEBCC7ECFAF67644B30EB4486D8D0621A055D6851594BB8B3626306E5A3D4358CCAB16CF382E446BDD6B758F8A85A5F2B21504921759966C82B26F7CBF857720E9E1BF89FD99E185C86A4298EB96786A305C832D0628EEE5F9FCF8E8E88493359C596BF377CC84F73969A6BFE33862D4A3B4809D175EE2D9C3EB2888737E8904F126D87AA199241832C0B5564C65CB902DB942C57525DC5F3331417AD29A9D7C775AAE8C52D0096FB920D0A706A53ACA2A430930E4DA61843BF9EBF001E5A5C26365FE02E06F054650BF468022682E20FDE00E537B05A4C465A44389CE85C443D24A4D4243F53D56402F50AAC530222AD502827484BCE5B31744AA3C98F26D14E0CE24F76BC28836DCAF01D72DC6462160F4A3ECD15AD1C0F6E7FAE0B63FF0A9DC3B4A60807C3D0C0C95DBA76AA386DF5005EED527ECFC2CAFE32B14A21CCD2E36D52317975EB6F17CFEF0808D72DF159001431A0BCD80F93C9C9D5EE3EB338099D0BF3020AC85411090369F24A405C3D90FA005F378901A9A3C7E1BC14AE08F1814C682EFB2404E8489C2981BCEBE60CCCDE3F41D0152A7AE12504A0F2F03DD36B260085A65E8D9DE86B6879DA24363014E21F703D19882F03DE48C03D19162106871A6FA5AF590B4A27C1C231FBA0E520FAABE1380BA28352075E80CB507EB708ED0FD000F3007D3079FB9196964415A1B8F4FC76E9C82C9F804AC45618C55861E75C0B5034E17B4377281AADFC500E1D291DF5335D01170A51204883DF1A0DC08A8AAE2E6B80DEE678CD24605B6372FAED645197AC8059738BE64A8BEC791D5F709587414B4572857BD53D405EE55916C0E7734650A551C45AA544389D1CEF2DE55E51A6A9C91C1D1E36A00294A07CB56D04A8EB0D50592234A219474E2135582D06D8FAD628A6DB18656A7DC383A5D114383583842C0899FD2225AF128D4DF3C610E46B0BB27ED689905C1A911F39B260469C8FA5CD042030854F3A1392F4E833B134AE35D1C8F21C6AB59A106C455C2142E057B31CABEF590CB11125B158E551360154812804B60681F3E4D16B2547E34235ADFC008B5D4E90110A1422183C98E273CE58D788904C161569D635DBBB0F57B91198B1196B7EE663E48A652BFB24D84CFA93C45CE6518F85DC992D83581B2949CBC6CC24C8E65C99FC3600682AD2C8597D12552D4C638CCA21CACE424F6A059586358E489BE9C536F2A065853F8E97B6E26A3C24AF95C8CDE2484090CE23776640E8E2A3C23D566A3D58C141A5C97ED518D893F5AE0A5A577BCC15D6FC460644750B8A3ADB7649A0F295A87505BB65C549998EA1F960B49CAA6E5076FBB0DE23B228553FDCB6C55E56FBAFC61659ED928AA682C369415C8BAAF5A4E78F0DE1D624A316BDCD3B7419AE5575EEEADBDE283974B3FE2AA89DC5F12C742C351EEE1E2A7B2F13C346D8BBF59BF9B22DF92C08D58537A8B071D15AEC872F23567768ECAAC48B6E5855E2AF8BAE9320977512C7790CA5BB72E729284D46F2EA743A7462289D125708A7C0224922A5F6A4CB94DCE23A0DB9619532592F008E812A570CA7CF22292325F6A4C592809B6CC98AA44127C299C3293788824CB14F134970B661972DE7B6EE973D1355AAB80748E7A0F32D1350A4A001DA36C3D8C6E2163251415450C454EAD7DB38924D5FE6880A1F609260A3EEDAF86BAB3FAD093D39ED5CF705A55121C92CCA5E06B5315852EA30D49A5FBD540D24D8A1A4AD2CD8F0663621F49A286C7161ACCA08CE6273B7AE501AA7EA28A9EC8EE7783792073C250534116C0E991795F4872E4EF706AF4E34E243DBAC4649567E40B4EF442A78AE034BB779A4872DDAF93D1EE3A07A8952D29A26562458ADB4FDB7E24521D5094BA9F0DF44395CD80D20CD54FA6AB788D444B786D44A979369AA4D3FC663026F2713B6A6464C164D6853EC262B23234D4006B434B61E2ABA3B98BCC6D4F6674C8EF44A9CD58F1FDA89C1AF78914B53DE9BE9F92D3A51E90A7970D51604C8FD72E54C1502B7ACF2BD0C9D1434DCC60FD8D7B0099DE91817E615AB4048D0F0E0319D9DD6BD0D4AA6E7F9D0CD0D5312AB303B69412E880AD683DEDED657AEBA414A6E868DDFE0CA7D5BD3F4C92EA7E1DDE081B7BEDD2CF05D32732B2E4F9D8B84F9DE5F2ECA82708D5607B39450E6549EECBFEDE27AC1A17B80340494841A1246D3ED46EE8E690B4A25E94E488B5259399F63630DD6FCA656400D32D6F3A6C6481B710E89291A7880BCFB3555AEE6D989E09C72FEBD03815B32FA55044E0CBD16775989E8D955755E6332CAAEF815FC4C9578F195699474585A3D53FC2CB3040853DD754F8E0C5C12DCAF2EA41CEF9E9F1C9E97C7611065E56DDA3A86F019CB11F9680AE059CBC2CAE05203F5AB0CDCD2F171454B2CC0F05570B44096DA5CF458EF0C068500878A57B42B4DFA3DB250FEE6B1F0C7CF4703EFF57D9E66CF6EE6F5FEB662F66D7299EEDB3D9F1ECDF246B48BE043A765FB18FBF7BE9E6DE4BB9F74CCD48F301FC21C8BFA1F3E7BA254E84B09D92E723FA43901F46347C74DF297926CAAFA07DAAA16DF0E2B7ECEBCD43D52764FCDD4CA5742DFB681526FB9270FACA2C483D932B39234C44F4C16886E57C2BA7CF2DCD2EE2EF966E7B01C0B108C49994C473F7CA1C1356A42128266F07F4D043820924EF09D0947F13790FBF35A5475E1470404E941EAA1741610AA85E14D9344F06C4C0DB82EA85C943DD1886313461ACBB40BF52791B1B0C55E0DF29CDEE168003ACD259A57B911224C01B02F9EAF77D9FB16FB591D8702E9BF5E1CC27878732EF5AF6E12F494D05ED04D3BC4F4F0439EB7BAE6A2E2FFD7EB4846D3EEDA7B1A80FEEA421CA403D92A5CD81C92A69B4D539DF2AAFF2D340E81E4DAE835B1C44F41F7CE0B2CA50ECE820D7CF1EEB775436EFAD28C7F0F341D191CE7A8AA7C571ACB7A96BD161AC77016BBB14954F036AFB3B22D121FFE1B48438827EB013264A836867C78E9A3BD0518240E11B6CBA371487CE0638EAABADCACFE179B6D22B5913CEEFC73C99217F84D22A695AFB7E89EA31CA4120A3BB45E81C34FAAF7B7896D3C8CEE3240F9FFB847BFBC38EF63B914980E7D0B3E5394A8BB77FB8A83FB8980456269005C426B39DE5E6E4F4ED79D5FB77BD93361DC6D606BA963FD5DDCDE46DCA7E8AEA89C36E64356709BAC9693AF9C5BB5E67B7270FB6514F7CD6603BBC3C6E4E8D2FFA1D549624380DDCC1E823F9A74493D4444699D726A582CC507AC04AC780DDB4DC4B0381EA004E7BA382C4EEB4775899CDA6A37B2C0F9C8709AD43B377AC3291B9483B66814FC769C6C6D98E0CD137851C62FC5BCBEC243ACB0E567D997A3EF7D709464115E9135484E49A02E71113F1242AE87919661A538E71A8646422A64C25385F70CA321557A8740DF29A8967B2AD00E46593F94CCA79C00C69529E750D3D3B501235119BBA341060665249D6AC32A929D4D753489B2684B761660789021A2803D5DE52A1F5CD79368E785421C221B29B59659ED98348C6CB59E66249C9B71E601AA9034842D6033F9311CF5079C5FAED597B13CFC0A9C2FA2286B1A5B479C5A69703CC012ECC8438D5EC5E7D4531EE0E3478CE2E6756AED99E35BD5C5CE689B72C44E726D1D68A7BB16BB9B8D9E1D651755F797985B2E0AE23B1C43463B4A1BC346D9DE2F8D1388C981E3555989BD61FF0D07C2FF72ED23CB8F536392EDEE0790EE2BBF9EC672FDCE12A6FA235F2DFC5D7BB7CBBCBF19051B40E2961164E2715FF329B18DDE7E575F94045E66208B89B586DE7E83A7EBD0B42BFEDF75BC16D700989C29B555F5F2FE6322FAEB1DF3DB6943E263190502DBED609F71945DB1013CBAEE395572811F3BE7DC9D07B74E76D1E9B87D7E444F413418B7D7915941F4465358DAE3DFE2FC6B01F3DFCF87FCF6E2DC145D80000 , N'6.2.0-61023')

