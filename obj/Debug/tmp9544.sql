IF object_id(N'[dbo].[FK_dbo.CustomerReserves_dbo.StaffBusinessItems_StaffBusinessItemsId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[CustomerReserves] DROP CONSTRAINT [FK_dbo.CustomerReserves_dbo.StaffBusinessItems_StaffBusinessItemsId]
IF object_id(N'[dbo].[FK_dbo.StaffBusinessItems_dbo.StoreDetails_StoreId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.StoreDetails_StoreId]
IF object_id(N'[dbo].[FK_dbo.StaffBusinessItems_dbo.BusinessItems_BusinessItemsId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.BusinessItems_BusinessItemsId]
IF object_id(N'[dbo].[FK_dbo.StaffBusinessItems_dbo.StaffDetails_StaffId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.StaffDetails_StaffId]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_BusinessItemsId' AND object_id = object_id(N'[dbo].[StaffBusinessItems]', N'U'))
    DROP INDEX [IX_BusinessItemsId] ON [dbo].[StaffBusinessItems]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_StoreId' AND object_id = object_id(N'[dbo].[StaffBusinessItems]', N'U'))
    DROP INDEX [IX_StoreId] ON [dbo].[StaffBusinessItems]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_StaffId' AND object_id = object_id(N'[dbo].[StaffBusinessItems]', N'U'))
    DROP INDEX [IX_StaffId] ON [dbo].[StaffBusinessItems]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_StaffBusinessItemsId' AND object_id = object_id(N'[dbo].[CustomerReserves]', N'U'))
    DROP INDEX [IX_StaffBusinessItemsId] ON [dbo].[CustomerReserves]
ALTER TABLE [dbo].[CustomerReserves] ADD [BusinessItemsId] [int]
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.StaffBusinessItems')
AND col_name(parent_object_id, parent_column_id) = 'BusinessItemsId';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[StaffBusinessItems] ALTER COLUMN [BusinessItemsId] [int] NOT NULL
DECLARE @var1 nvarchar(128)
SELECT @var1 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.StaffBusinessItems')
AND col_name(parent_object_id, parent_column_id) = 'StaffId';
IF @var1 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [' + @var1 + ']')
ALTER TABLE [dbo].[StaffBusinessItems] ALTER COLUMN [StaffId] [int] NOT NULL
CREATE INDEX [IX_BusinessItemsId] ON [dbo].[CustomerReserves]([BusinessItemsId])
CREATE INDEX [IX_BusinessItemsId] ON [dbo].[StaffBusinessItems]([BusinessItemsId])
CREATE INDEX [IX_StaffId] ON [dbo].[StaffBusinessItems]([StaffId])
ALTER TABLE [dbo].[CustomerReserves] ADD CONSTRAINT [FK_dbo.CustomerReserves_dbo.BusinessItems_BusinessItemsId] FOREIGN KEY ([BusinessItemsId]) REFERENCES [dbo].[BusinessItems] ([Id])
ALTER TABLE [dbo].[StaffBusinessItems] ADD CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.BusinessItems_BusinessItemsId] FOREIGN KEY ([BusinessItemsId]) REFERENCES [dbo].[BusinessItems] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[StaffBusinessItems] ADD CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.StaffDetails_StaffId] FOREIGN KEY ([StaffId]) REFERENCES [dbo].[StaffDetails] ([Id]) ON DELETE CASCADE
DECLARE @var2 nvarchar(128)
SELECT @var2 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.StaffBusinessItems')
AND col_name(parent_object_id, parent_column_id) = 'StoreId';
IF @var2 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [' + @var2 + ']')
ALTER TABLE [dbo].[StaffBusinessItems] DROP COLUMN [StoreId]
DECLARE @var3 nvarchar(128)
SELECT @var3 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.CustomerReserves')
AND col_name(parent_object_id, parent_column_id) = 'StaffBusinessItemsId';
IF @var3 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[CustomerReserves] DROP CONSTRAINT [' + @var3 + ']')
ALTER TABLE [dbo].[CustomerReserves] DROP COLUMN [StaffBusinessItemsId]
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'202211281705199_updateStaffBusinessItems', N'BonnieYork.Migrations.Configuration',  0x1F8B0800000000000400ED5DDD6EDCBA11BE2FD07710F6AA2D72BCB68300ADB13E078E9DB4699338F026A7ED55A05DD1B610ADB495B4A98DA24FD68B3E525FA1D43FFF39A428ADD6C7C88DB32467C8E1C7E17086E2FCEF3FFF5DFCF4B089BCEF28CDC2243E9F9D1C1DCF3C14AF93208CEFCE67BBFCF687DFCF7EFAF1D7BF5ABC09360FDECF4DBD97453DDC32CECE67F779BE3D9BCFB3F53DDAF8D9D1265CA74996DCE647EB6433F783647E7A7CFC87F9C9C91C6112334CCBF31637BB380F37A8FC0FFEEF6512AFD136DFF9D18724405156FF8E4B962555EFA3BF41D9D65FA3F3D9EB248E43F4F724FD7654559E791751E8E38E2C51743BF3FC384E723FC7DD3CFB92A1659E26F1DD728B7FF0A3CF8F5B84EBDDFA5186EAEE9F75D5A123393E2D4632EF1A36A4D6BB2C4F3686044F5ED6A299B3CDAD043C6B458785F7060B397F2C465D0A10CB6E978531CAB277F16D926E6A2E2CDFB3CB282DDA08447D2420F0C2EBAABD6811828154FC7BE15DEEA27C97A2F318EDF2D48F5E789F76AB285CFF053D7E4EBEA1F83CDE4511D969DC6D5C46FD807FFA94265B94E68F37E8B61ECABB60E6CDE97673B661DB8C68538DEC5D9CBF3C9D791F31737F15A116138414967992A23FA218A57E8E824F7E9EA3342E68A052AA1C778657D99C63A86EF3192F095C11A5DFFDA86988018C97E2CCFBE03FBC47F15D7E7F3E7B85D7DEDBF00105CD0F75E7BFC4215EB8B84D9EEE908ED75F11FA16F88FCBDC4FF382EF48FCDEC4C188DC5EA7C8FF3606BF3F255138A6346B7E2349B3E6369A342B15517355303BB562F6D1FF1EDE956B5CB464AF50EE8778F5DDA0A8AC93DD87DB6A6B3922CABF0A35E9DB34D9DC24114D4A54F5EB673FBD43391E5A02ABBF4C76E99A19CA62DEE977A5D6A7C665A2ED8986CF5A5ECC2B0EB03CD34743457FB15E27D8025240FBE418866D6E6C9A95E567D93F9334189F7329E8E2CFFECAC390F365398F2333BD0A312CC2B56A8A87617C110429561EE34B1945D1F63E89D1C7DD66855215C05E0D826C97BC7550F66F6F3F8779A4C2B2DDDEC4A20865EB34DC56BB8B9415FED301AFD7582BA2146BC0FBC159BDC507B955927C7B1FC6DF0667F62ECE72FF2EF537A370C34CD0308CA4668BD01419D67C69CC11A8F9D2983BC643CAD126130E86AAF195B270BA61482B71F697BCA6C8F25275FDB2B4AF507A83327C8E43C2CE337564DD5754E306A0AA6B3A84C6A811F6BD2994755A54CEF55658C9B49BA51A569AEB6DB9ACB3922A02F35C5CAF9759CE80DCCA0D53347D36CD85BCC40E1853AB758BB447EC1327475E6C2C0ECEA43227562A3E6E76C11BB4F1D3E137DB4FD8C0C6D01EC66671AAE199B52ED7F1F446A4D3F2CCB665A340F55B2D5F4D3E1C5D5DB1665535301F94DA89D3D370602D1FBD8961B537701833D91D98C6CFFB83C1FE0038F919B66966C3B019052CC3B6F5C45F61B98CA0EA4B5E9A3D72DADB4A8F73882345CFAA15D8B660BA6329D4225DE52BA77FF881886B4AB72C49F5218D7EC52014D594C67FFFEEAB77270727431D949CEF51369105BAEDF30E25E4F50B8C1234B8D84FA000ECC286EE33861D781DA6F9FD9532E469175F757296E9BD35C83493460F5BC63C897DC22CE6D9367C564B425E4E1C2BBF40DD56224BA3D880512343CE7F4E56A384AB06F5C7582B6B2743C3284F9360B71E2514F71C1F1B7B8F73706CE06362FA2386D910785F196050AC838AD816956E3BB2FB00A71D1521B139D3B5B7BD6403A92B288720A823EEBCA8A2EBB35C8FF8930A4BCECE6F22F7AFB1A5F41C89D21B4C6A579E8D15614CA48787CBA9FB5F086C48BCC0A97FC8854E048C44A485EC576AAB208DD768DDF279751A2C28401B7C50CFAE6F6F47B46440E0B6DD278580566DA85650EEEE9698C0B869F50C6131AF5A3CE378CDAC0D22ABAB432C2C95F78B2090BCC8B2641D967DE3FB2DBC18470FFF4D1C7886B7E4AA0961EEE0E1A9C1700DB718A0B897E7B3E3A3A3134ED67066AD99DB31135EF2A399FE8EE388518FD202767E7489670FAFA330CEF92512C6EB70EB47669260C800D75A31952D43B6E40A153774707FCDC404E949EBE7E2BBD3726594824E788B39813E3528D58145194A8051C60E23DC6157870F282F151E2BB311007F2B3082FA350214417301E907777ED82B20255E121D4A745E131E92566A121A9DEEB1027A81522D861151A91610A423E4C596BD2052E5B4936FA3000F1EB95F1346B4E17E0DB86130360A01A31F658FD68A06B63FD707B7FD814FE516510203E4236160A8DC3E551B35FC522670AF3E61E767711D5FA108E5C8BB58572F1F5CFAD9DA0FF8C30336CA035740060C692C3403E6F370767A8D8FCC006642FFC280B016FAFD41DA7C9290160C673F8016CCE381686891374C0928A56B8C8152EB923504AD324C656F7CD8C34ED1A1B100A790FB81404D10EA83188742671708045A9CA9BE6C03F9A426A215E5E318D95A15CCD5E179922000055D301EC48B640FD6E13C48FB011E600EA60F3EF9E756324000BEBD021E5354B0037C1A7E201A523B9211A0AA9DB3E90355189C92A1471DA9EA80D3453B8D7C47EA6FE841B874E430520D74045CA90401624F3CCF3402AAAA80236E83FB19A3B451816DC8FA6A5594A1875C10FDFE92A13A009ED58158161D05ED25CA55AF7E74114F550890C31D4D99421547912AD55062B4B3BC7755B9861A676470F4B81A408AD2C1B215B492236C7581E4885208259DF844952074DB63AB98625BACA1D529378E4E57C4D020168E1070E2876988563C0AF5217BCF2668DF8E9659109C1A310FD113A421EB734E0B0D2050CD47A9BC380D82CD4AE35DECC826C6AB59A106C455C2142E057B31CAEE85CBE508094A09C7AA894C092409C02530260A9F260B592A2FD88BD63730B4671CDCA3D6B554211B87F286179EF20AAE4482E0F8945D848A95A57201DA85A4065CDEBAABC020994AFDCA36A111A7F214399761E0B795A5F0E6A9448A5ABFBC99679E1D98C4863173C50F2B2DD197216A45283D991AF9967B2A40D19114662B39306434C2027B3A8D7D9D8E4C985185A778E988171DD04F67E8A9836A6F43D7DC602213DF50E6A5A57716C1DD45C46064C726B873A8B7649A5BD3AD13A32D5BCCAB5C1CF50F8BB92469C7E283BFDD86F11D91C4A3FEC55B56193C2E7F589AE7B6D85434E66BCA72615D2E2D273C78FF0E31A59835EEE9DB30CDF22B3FF7577E71BBFD32D870D5442E1BC961B8E128F7CAF053D99C969BB6C5DFACAF48917143E0FAAA29BDC583DE14EEB372F235E74C8E8A57A45BF1233F157CCA709944BB4D2C77EAC95BB76E5D9284D4D72BA74327C72089D125708A7C0A0C922A5F6A4CB94DCF20A0DB96195325D23008E812A570CA7CFA0A92325F6A4C592809B6CC98AA44127C299C32937A8224CB14F13417736619721E676EE97311215AAB80748E7A0F32D1350A4A001DA36C3D8C6E21FDFB141585DF5F4EAD7D938424D5FE6880A1F689110A3EEDAF86BAB3FAAA8BD39ED5CF705A551A0492CCA5E0D33215852EA70149A5FBD540D24D92024AD2CD8F0663621F01A186C7161ACCA08CE6273B7AE501AA7E82859EC8EE77837920B30250534116C0E9912FFF93E4C8DFE1D4E8C74B487A7489C92ACFC8174AE8854E15C16976EF9090E4BA5F27A3DD754E3B2B5B5244CBC48A14B79FB6FD483CE54D51EA7E36D00FD56BDD9466A87E325DC52B245AC22B234ACDB3A8249DE6378331918F375123230B26B32EF451019395A1A106581B5A0A135F1DCDFD596E7B32A3437E14466DC68A8FC5E4D4B8EF21A8ED49F7B1849C2EF54032BD6C8802637ABC76A10A865AD17B5E814E8E1E6A6206EB6FDC03C8F48E0CF40BAAA225687C7018C8C8EE5E3BA55675FBEB6480AE8E51991DB0A59440076C45EB696F2FD35B27A5304547EBF66738ADEE7D4D9254F7EBF046D8D86B977E0E933E919125CFC7C67DEA2C9767473D41A806DBCB2972284BD2D46EDE271C1AD7B5032048484121206D3ED42EE6E670433FFBC6116B4B2633ED6D40B9DF94CBC800A65BDE74D88800BFB3D325234F11175667ABB4DCDBF03A13465FD4216D2AD65E4AA1889C97A3CFEAF03A1BE3AEAACC3C2CAAEF6150C4B7978F195675474585A3E53FA2CB2844851DD654F8E0C7E12DCAF2EAD5BCD9E9F1C9E9CCBB88423FABEE3FD4D1FB33F623065038FFE46511CE47C166CE3637BF145050C9B220125C0910255A94BEE936C22B806121E0A5EE9D3F9BA4DA0C0FEECB120C7CF4703EFB57D9E6CC7BF7B7AF75B317DE758A67FBCC3BF6FE4DB286BCE34DC7DC2BF6F1773F5DDFFB29F7E8A019693EF03E04F937745E47B7C489D0B353F27C247E08F2C388868FCA3B25CF44E715B44F35B40D9EE5957D2978A8FA848C9B9BA994AE651FADC26405114E5F999DA367D20F678489483C18CDB05C44E5F4B9A5D945EADDD26D03F78E4520CEF0219EBB57E698B0220D413119D5EFA187041348C6F769CABFD9F80FBF35A54706F81D9013A52DE94550989AA4174536FD880131CBBCDE4F636318C6D0B44BC12D51DEC606039971DB114D36C1762FACD2D94E7B911224661A02F9EA47389FB16FB591D8702E9BF5E1CC272D8632EF5AF6E12F499902ED04D3BC4F4F04B9947BAE6A2E5FF27EB4846D9ED7A7B1A80FEEA421CA8C3A92A5CD81C92A99A9D539DF2ADFE7D340E81E4DAE835B1C44D41E7CE0B2CA9CE9E820D7CF1EEB775436EFAD28F7E5F341D191CE7A8AA7C571AC379B74798E4C68016BBB646E4F63BEF7774EA1E3EEC32D557118FB60274C9430CCCE981C35CB96A3545AC247B7748FE60D9D376BD4673A95DF92F36CA5173E279C098B796F02FA662C30BD50FBF887EAF5C14120A3BB82E71C34FA4F637896D3C863E1246395FBD454FBC38EF6238B4980E7D0F34A394A20B57FB8A8BF569804562690F6C1260794E5E6E4F4B171D5E371BDB3F41CC6D606BAD33ED5DDAD4F96263345F5C46137B29AB304DD04349D712E25A7FB21FDAEA3F4D1EA270311F9271693048751F623E313FD902AC80CA58779F23705F0B44EFC0381EA000CF051416267801F5676A1E9E81ECB33C06142CBC6DE39B86C402E52FF58E0D371AA9F71B62343F44D218F0FFF762C3B89CE32F4545FEC9DCF8255825150055F041521F95EC0B97C443C890A7A5E86D97E94631C2A219088295309CE179C3648C5152A5D83DC42E2996C2B0079D9641F92721E304B9194675D43CF0E94C848C4A62E0D05989954A223AB6C460AF5F514521709E16DF852BD44010D9405666FE988FAE61D1A473C636718B2CAA4B107918C9737C8C592926F3DC0B438079008A8077EF6269E8173FBF41509632C6813014D2F694FBFCDDA4288534DC7D35714E3AAD8C193EC3833E3CC94F2F492E79867CAB1109D9BCC384BEEA99EC5FC66875B6FAA3B928B2B9485771D8905A619A335E58668EB14F675E311617AD454616E777EC0430BFCDCBF48F3F0D65FE7B8788DE7398CEF66DECF7EB4C355DE6C562878175FEFF2ED2EC743469B554409B3F0AAA8F897E97FE83E2FAECB2FD3331743C0DDC46A3B47D7F1EB5D18056DBFDF0A6EA04A4814EE9AFACA6C3197797175F6EEB1A5F4318981846AF1B55EA6CF68B38D30B1EC3A5EFA851231EFDB970CBD4777FEFAB17971494E443F11B4D8175761F9254456D3E8DAE3FF620C079B871FFF0F7889853FF8CD0000 , N'6.2.0-61023')

