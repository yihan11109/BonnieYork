IF object_id(N'[dbo].[FK_dbo.CustomerReserves_dbo.StaffBusinessItems_StaffBusinessItemsId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[CustomerReserves] DROP CONSTRAINT [FK_dbo.CustomerReserves_dbo.StaffBusinessItems_StaffBusinessItemsId]
IF object_id(N'[dbo].[FK_dbo.StaffBusinessItems_dbo.StoreDetails_StoreId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.StoreDetails_StoreId]
IF object_id(N'[dbo].[FK_dbo.CustomerReserves_dbo.StoreDetails_StoreId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[CustomerReserves] DROP CONSTRAINT [FK_dbo.CustomerReserves_dbo.StoreDetails_StoreId]
IF object_id(N'[dbo].[FK_dbo.StaffBusinessItems_dbo.BusinessItems_BusinessItemsId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.BusinessItems_BusinessItemsId]
IF object_id(N'[dbo].[FK_dbo.StaffBusinessItems_dbo.StaffDetails_StaffId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.StaffDetails_StaffId]
IF object_id(N'[dbo].[FK_dbo.CustomerReserves_dbo.CustomerDetails_CustomerId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[CustomerReserves] DROP CONSTRAINT [FK_dbo.CustomerReserves_dbo.CustomerDetails_CustomerId]
IF object_id(N'[dbo].[FK_dbo.CustomerReserves_dbo.StaffDetails_StaffId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[CustomerReserves] DROP CONSTRAINT [FK_dbo.CustomerReserves_dbo.StaffDetails_StaffId]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_BusinessItemsId' AND object_id = object_id(N'[dbo].[StaffBusinessItems]', N'U'))
    DROP INDEX [IX_BusinessItemsId] ON [dbo].[StaffBusinessItems]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_StoreId' AND object_id = object_id(N'[dbo].[StaffBusinessItems]', N'U'))
    DROP INDEX [IX_StoreId] ON [dbo].[StaffBusinessItems]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_StaffId' AND object_id = object_id(N'[dbo].[StaffBusinessItems]', N'U'))
    DROP INDEX [IX_StaffId] ON [dbo].[StaffBusinessItems]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_StoreId' AND object_id = object_id(N'[dbo].[CustomerReserves]', N'U'))
    DROP INDEX [IX_StoreId] ON [dbo].[CustomerReserves]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_StaffId' AND object_id = object_id(N'[dbo].[CustomerReserves]', N'U'))
    DROP INDEX [IX_StaffId] ON [dbo].[CustomerReserves]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_CustomerId' AND object_id = object_id(N'[dbo].[CustomerReserves]', N'U'))
    DROP INDEX [IX_CustomerId] ON [dbo].[CustomerReserves]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_StaffBusinessItemsId' AND object_id = object_id(N'[dbo].[CustomerReserves]', N'U'))
    DROP INDEX [IX_StaffBusinessItemsId] ON [dbo].[CustomerReserves]
ALTER TABLE [dbo].[CustomerReserves] ADD [BusinessItemsId] [int] NOT NULL DEFAULT 0
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.StaffBusinessItems')
AND col_name(parent_object_id, parent_column_id) = 'BusinessItemsId';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[StaffBusinessItems] ALTER COLUMN [BusinessItemsId] [int] NOT NULL
DECLARE @var1 nvarchar(128)
SELECT @var1 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.StaffBusinessItems')
AND col_name(parent_object_id, parent_column_id) = 'StaffId';
IF @var1 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [' + @var1 + ']')
ALTER TABLE [dbo].[StaffBusinessItems] ALTER COLUMN [StaffId] [int] NOT NULL
DECLARE @var2 nvarchar(128)
SELECT @var2 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.CustomerReserves')
AND col_name(parent_object_id, parent_column_id) = 'StoreId';
IF @var2 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[CustomerReserves] DROP CONSTRAINT [' + @var2 + ']')
ALTER TABLE [dbo].[CustomerReserves] ALTER COLUMN [StoreId] [int] NOT NULL
DECLARE @var3 nvarchar(128)
SELECT @var3 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.CustomerReserves')
AND col_name(parent_object_id, parent_column_id) = 'StaffId';
IF @var3 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[CustomerReserves] DROP CONSTRAINT [' + @var3 + ']')
ALTER TABLE [dbo].[CustomerReserves] ALTER COLUMN [StaffId] [int] NOT NULL
DECLARE @var4 nvarchar(128)
SELECT @var4 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.CustomerReserves')
AND col_name(parent_object_id, parent_column_id) = 'CustomerId';
IF @var4 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[CustomerReserves] DROP CONSTRAINT [' + @var4 + ']')
ALTER TABLE [dbo].[CustomerReserves] ALTER COLUMN [CustomerId] [int] NOT NULL
CREATE INDEX [IX_StoreId] ON [dbo].[CustomerReserves]([StoreId])
CREATE INDEX [IX_StaffId] ON [dbo].[CustomerReserves]([StaffId])
CREATE INDEX [IX_CustomerId] ON [dbo].[CustomerReserves]([CustomerId])
CREATE INDEX [IX_BusinessItemsId] ON [dbo].[CustomerReserves]([BusinessItemsId])
CREATE INDEX [IX_BusinessItemsId] ON [dbo].[StaffBusinessItems]([BusinessItemsId])
CREATE INDEX [IX_StaffId] ON [dbo].[StaffBusinessItems]([StaffId])
ALTER TABLE [dbo].[CustomerReserves] ADD CONSTRAINT [FK_dbo.CustomerReserves_dbo.BusinessItems_BusinessItemsId] FOREIGN KEY ([BusinessItemsId]) REFERENCES [dbo].[BusinessItems] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[CustomerReserves] ADD CONSTRAINT [FK_dbo.CustomerReserves_dbo.StoreDetails_StoreId] FOREIGN KEY ([StoreId]) REFERENCES [dbo].[StoreDetails] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[StaffBusinessItems] ADD CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.BusinessItems_BusinessItemsId] FOREIGN KEY ([BusinessItemsId]) REFERENCES [dbo].[BusinessItems] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[StaffBusinessItems] ADD CONSTRAINT [FK_dbo.StaffBusinessItems_dbo.StaffDetails_StaffId] FOREIGN KEY ([StaffId]) REFERENCES [dbo].[StaffDetails] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[CustomerReserves] ADD CONSTRAINT [FK_dbo.CustomerReserves_dbo.CustomerDetails_CustomerId] FOREIGN KEY ([CustomerId]) REFERENCES [dbo].[CustomerDetails] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[CustomerReserves] ADD CONSTRAINT [FK_dbo.CustomerReserves_dbo.StaffDetails_StaffId] FOREIGN KEY ([StaffId]) REFERENCES [dbo].[StaffDetails] ([Id]) ON DELETE CASCADE
DECLARE @var5 nvarchar(128)
SELECT @var5 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.StaffBusinessItems')
AND col_name(parent_object_id, parent_column_id) = 'StoreId';
IF @var5 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[StaffBusinessItems] DROP CONSTRAINT [' + @var5 + ']')
ALTER TABLE [dbo].[StaffBusinessItems] DROP COLUMN [StoreId]
DECLARE @var6 nvarchar(128)
SELECT @var6 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.CustomerReserves')
AND col_name(parent_object_id, parent_column_id) = 'StaffBusinessItemsId';
IF @var6 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[CustomerReserves] DROP CONSTRAINT [' + @var6 + ']')
ALTER TABLE [dbo].[CustomerReserves] DROP COLUMN [StaffBusinessItemsId]
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'202211281716249_updateStaffBusinessItems', N'BonnieYork.Migrations.Configuration',  0x1F8B0800000000000400ED5DDD6EDCBA11BE2FD07710F6AA2D72BCB68300ADB13E078E9DB4699338F026A7ED55A05DD1B610ADB495B4A98DA24FD68B3E525FA1D43FFF39A428ADD6C7C88DB32467C8E1C7E17086E2FCEF3FFF5DFCF4B089BCEF28CDC2243E9F9D1C1DCF3C14AF93208CEFCE67BBFCF687DFCF7EFAF1D7BF5ABC09360FDECF4DBD97453DDC32CECE67F779BE3D9BCFB3F53DDAF8D9D1265CA74996DCE647EB6433F783647E7A7CFC87F9C9C91C6112334CCBF31637BB380F37A8FC0FFEEF6512AFD136DFF9D18724405156FF8E4B962555EFA3BF41D9D65FA3F3D9EB248E43F4F724FD7654559E791751E8E38E2C51743BF3FC384E723FC7DD3CFB92A1659E26F1DD728B7FF0A3CF8F5B84EBDDFA5186EAEE9F75D5A123393E2D4632EF1A36A4D6BB2C4F3686044F5ED6A299B3CDAD043C6B458785F7060B397F2C465D0A10CB6E978531CAB277F16D926E6A2E2CDFB3CB282DDA08447D2420F0C2EBAABD6811828154FC7BE15DEEA27C97A2F318EDF2D48F5E789F76AB285CFF053D7E4EBEA1F83CDE4511D969DC6D5C46FD807FFA94265B94E68F37E8B61ECABB60E6CDE97673B661DB8C68538DEC5D9CBF3C9D791F31737F15A116138414967992A23FA218A57E8E824F7E9EA3342E68A052AA1C778657D99C63A86EF3192F095C11A5DFFDA86988018C97E2CCFBE03FBC47F15D7E7F3E7B85D7DEDBF00105CD0F75E7BFC4215EB8B84D9EEE908ED75F11FA16F88FCBDC4FF382EF48FCDEC4C188DC5EA7C8FF3606BF3F255138A6346B7E2349B3E6369A342B15517355303BB562F6D1FF1EDE956B5CB464AF50EE8778F5DDA0A8AC93DD87DB6A6B3922CABF0A35E9DB34D9DC24114D4A54F5EB673FBD43391E5A02ABBF4C76E99A19CA62DEE977A5D6A7C665A2ED8986CF5A5ECC2B0EB03CD34743457FB15E27D8025240FBE418866D6E6C9A95E567D93F9334189F7329E8E2CFFECAC390F365398F2333BD0A312CC2B56A8A87617C110429561EE34B1945D1F63E89D1C7DD66855215C05E0D826C97BC7550F66F6F3F8779A4C2B2DDDEC4A20865EB34DC56BB8B9415FED301AFD7582BA2146BC0FBC159BDC507B955927C7B1FC6DF0667F62ECE72FF2EF537A370C34CD0308CA4668BD01419D67C69CC11A8F9D2983BC643CAD126130E86AAF195B270BA61482B71F697BCA6C8F25275FDB2B4AF507A83327C8E43C2CE337564DD5754E306A0AA6B3A84C6A811F6BD2994755A54CEF55658C9B49BA51A569AEB6DB9ACB3922A02F35C5CAF9759CE80DCCA0D53347D36CD85BCC40E1853AB758BB447EC1327475E6C2C0ECEA43227562A3E6E76C11BB4F1D3E137DB4FD8C0C6D01EC66671AAE199B52ED7F1F446A4D3F2CCB665A340F55B2D5F4D3E1C5D5DB1665535301F94DA89D3D370602D1FBD8961B537701833D91D98C6CFFBC380FB4301DFBE449AF9EA4B87C2625F623578AEB06C47D82E4A5E9A7D76DA5B538FB38CA3CD82554DB0ADC574D753A856BACA574E87F10311D7946E7B92EA431E1C14835054531E20FA775FBDC339385DEAA0E47C9FB3894ED06D9F773921AF5F60A4A1C1C57E820D603738749F313502C234BFBF52864DED62B44ECE43BDB7069966D2E861CBB829B14F98C54DDB86CF6A49C8CB89F1FD0BD46D25B2348A0D187932E4FCE764354AC86B509F8EB5B27632348CF2340976EB51C279CF31B6B1F73807C7063EAEA63F62980D81F7B70106C53AB9886D51E9FA23BB0F70FC5151169B335D7B634C3690BA827208823AE2CE8B2ABA3ECBF58861A9B0E4ECFC2672211B5B4ACFD12CBDC1E4D4B767E7B5ECE1E1721A4210021B127370EA1F72A1130123116921FB95DA2A48E3355AB77C5E9D060B0AD0061FD4B3EBDBDB112D1910B86DF74921A0551BAA1594BBFB2926306E5A3D4358CCAB16CF385E336B83C8EAFA110B4BE51D2508242FB22C598765DFF87E0B2FD7D1C37F13079EE14DBB6A42987B7C786A305CC32D0628EEE5F9ECF8E8E88493359C596BE676CC84170569A6BFE33862D4A3B4809D1F5DE2D9C3EB288C737E8984F13ADCFA9199241832C0B5564C65CB902DB942C52D1FDC5F3331417AD2FAB9F8EEB45C19A5A013DE624EA04F0D4A75605186126094B1C30877D8D5E103CA4B85C7CA6CA4399DB073B2B88EAF508472E45DACAB2F322FFD6CED07BC42C20B3D700062D078468030680E21FDE0CE1D7B05B2C4BBA24397CEDBC24359AC5E9DE20BDC4DC12A305E71BDC0AC16DF8868560B08D211F2AACD5E90AC7212CAB76D80C790B40F08A37D1400836E428C8D5E80D446B125B4A281D911F501737FA055B96F94C000F97218F82AB779954101BF807A303605744863A119309F876359687C79063013FA410684B5303E31FE2EE00AD282E1EC07D082793C100D2DF2DA2901A574E131506A5DC786A05586D34070153A35EC61A7E8D0588053C8FD40A0260849428C43A1530E04022DCE545FF1817C6713D18AF2718C6CAD0AE6EAF03C5E1080822E420FE2ED3A64B002C6B2073FD7418256FE499A0C4880EFD380C71B155C019FCF1F0858B5231901AADA399B3E5085C137197AD491B80E385D34D72896A57E6700844B478E26D54047C0954A1020F6C4135623A0AA0AA8E236B89F314A1B15D886E4AF5645197AC805D1FD2F19AA03FC591D6866D151D05EA25CF5324A17D155853839DCD19429547114A9520D25463BCB7B57956BA871C609478FAB01A4281D2C5B412B39C2C617488E288550D2894F540942B73DEE8A29B6C51A5A9D72E3E874450C0D62E10801277EBC8768C5A3507F25C1B3B994D08E9659109C1A31BF82409086ACCF392D348040351FDDF2E23408A62B8D7EB1039C18AF66851A10570953B814ECC528BBF72E97232408261CAB26122690240097C0182C7C9A2C64A9FC8040B4BE81A14470AC4EB8AEA50AD9380438BCF094578C251204C7B5EC225BAC2C950BD02E9435E0F2D65D7506C954EA8FB609A93895A7C8290D03BFAD2C85376B2552D4FAF3CD3CFAECC024368C990B7F586989BE7C512B42E9C9D4C827DD53018A8EA4305BC98121A31116D8436AEC237564C28C2A3CC56B50BCE8807E3A434F1D547B1BBAE6061399F806362F2DBDB308EE2E2206233B36C19D43BD25D3DC0A6F9D186DD9625EE52BA97F58CC25894D161FFCED368CEF884427F52FDEB2CA7272F9C3D23CFFC7A6A2315F53960BEB726939E1C1FB778829C5AC714FDF8669965FF9B9BFF28BDBFB97C186AB2672D9480EC30D47B957869FCAE6B4DCB42DFE667D458AAC2402D7574DE92D1EF4A6709F9593AF39677254BC22258D1FF9A9E0538DCB24DA6D62B9534FDEBA75EB9224A4BE5E391D3A8108498C2E8153E4D3849054F95263CA6D0A0B01DDB6CC982A91AA424097288553E6537C9094F95263CA4249B065C6542592E04BE19499F41C2459A688A7B99833CB90F338734B9F8B08D15A05A473D47B9089AE515002E81865EB61740BE9DFA7A828FCFE726AED9B2B24A9F647030CB54FA850F0697F35D49DD5576B9CF6AC7E86D3AA524590642E059FCEA92874791F482ADDAF06926E123950926E7E341813FBC809353CB6D0600665343FD9D12B0F50F51333F44476BF1BCC039939819A0AB2004E8FCC8E4092237F8753A31F6721E9D12526AB3C235F60A1173A5504A7D9BDB34292EB7E9D8C76D739EDAC6C49112D132B52DC7EDAF623F1DC3945A9FBD9403F542F9A539AA1FAC97415AF906809AF8C2835CFBE92749ADF0CC6443E4E458D8C2C98CCBAD047054C5686861A606D68294C7C7534F76EB9EDC98C0EF9111AB5192B3E4E9353E3BEA3A0B627DD471672BAD403D0F4B2210A8CE9F1DA852A186A45EF79053A397AA88919ACBF710F20D33B32D02FC48A96A0F1C1612023BB7BCD955AD5EDAF9301BA3A466576C09652021DB015ADA7BDBD4C6F9D94C2141DADDB9FE1B4BAF7434952DDAFC31B6163AF5DFAB94FFA4446963C1F1BF7A9B35C9E1DF504A11A6C2FA7C8A12C4953BB799F70685CD70E802021058580B4F950BB989BC30DFDAC1D47AC2D99CCB4B701E57E532E2303986E79D3612302FCCE4E978C3C455C589DADD2726FC3EB4C187D5187B4A9587B298522725E8E3EABC3EB6C8CBBAA32F3B0A8BE874111DF5E3E6658D51D15158E96FF882EA31015765853E1831F87B728CBAB570167A7C727A733EF220AFDACBAFF5047EFCFD88F1840E1FC939745381F059B39DBDCFC52404125CB8248702540948C52FA66DD08AF1C86858097BA770C6D128F333CB82F4B30F0D1C3F9EC5F659B33EFDDDFBED6CD5E78D7299EED33EFD8FB37C91AF24E391D73AFD8C7DFFD747DEFA7DCA38A66A4F9C0FB10E4DFD0B92FDD122742CF4EC9F391F821C80F231A3E2AEF943C139D57D03ED5D036787658F6A5E0A1EA13326E6EA652BA967DB40A93F544387D65F6919E494D9C112622F16034C3722D95D3E7966617A9774BB70DDC3B168138838978EE5E9963C28A3404C56454BF871E124C2019DFA729FF66E33FFCD6941E19E077404E9496A5174161EA955E14D9F42A06C42C739F3F8D8D611843D32E4DB944791B1B0C6456724734D924E4BDB04A6773ED454A90786A08E4AB1FFD7CC67EDF642670D665B35EACF9C4CD50EE5DCB5E1D90648581F68269DEAB2B827CD13D573697137A3F9AC23697EDD358D80777DA10657F1DC9DAE6C06495B0D5EAAC6F95D3F46920748F5BCFC12D0E22720F3E74596507757498EB6793F53B2E9BF75694DFF3F9B0E848673DC513E384CCB7D1AC68BB84754F63BE871132D8DDC6249B1B62A98A43D9073B61A2A46876C6E4A899C41CA50B133EBCA57B386FE8DC60A33ED5A9FC9E9C672BBDF439E16C5FCC9B13D07763074E85D43E1CA27AB97010A8E9AEEF39079BFEB31A9EE534726738C9CA359DF45BFBC39CF6C38E4980EED07367ED3949D6FE61A6FEB26212189B406A0B9B3C57D3DA4445EFE2699EC47D1A5B29E8FEFD5477D33E99A826A1E0A602BB91D59C25E826A0E98CF34599C14C9B8C9A7C8352FAC0F6938188FC73904982C328C393B1E761F844A4F689A50EC143610AE06979260E0B545330DC4705979DE17E581994A6032FCBB3C36142CBC64E3AB88C472ED21B59E0D3713AA371B63143F44D215711FF3E2E3B89CEB210555F259ECF82558251500597041521396DC0F98A443C890A7A5E86198D94631C2AE99188295309CE179C1A49C5152A5D83FC49E2996C2B0079D9645892721E30139394675D43CF0E94AC49C4A62E0D059899543227AB8C4D0AF5F514D23309E16DF81ABF44010D94E9666F2997FAE6561A473C636751B2CA16B207918C971BC9C592926F3DC0D43F0790ECA8077EF6269E81F317F51509632C68931D4D2F3151BFCDDA4288534D39D45714E3AAD8C113093933E3CC94F2F41204996703B2109D9BEC3F4BEE39A2C5FC66875B6FAA3BA08B2B9485771D8905A619A335E58668EB14F675E311617AD454616EAF7EC0430BFCDCBF48F3F0D65FE7B8788DE7398CEF66DECF7EB4C355DE6C562878175FEFF2ED2EC743469B554409B3F0AAA8F897298EE83E2FAECBAFEF331743C0DDC46A3B47D7F1EB5D18056DBFDF0A6ED84A4814EE9AFA4A703197797135F8EEB1A5F4318981846AF1B55EA6CF68B38D30B1EC3A5EFA851231EFDB970CBD4777FEFAB179554A4E443F11B4D8175761F9A54756D3E8DAE3FF620C079B871FFF0F10D5E3C400D00000 , N'6.2.0-61023')

